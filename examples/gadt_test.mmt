// Test GADT pattern matching

data Typ [
  Cons<T> : (value : T | bool) => Typ<T | number>
];

val test_expr : Typ<string | number> := Cons(true);

val result : string | bool := switch (test_expr) [
  (Cons(x) : Typ<string | number>) => x
];